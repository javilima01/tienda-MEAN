{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ArticulosCategoriaComponent = class ArticulosCategoriaComponent {\n  constructor(articulosService, route, router) {\n    this.articulosService = articulosService;\n    this.route = route;\n    this.router = router;\n    this.currentIndex = -1;\n    this.nombre = '';\n    this.currentImage = \"\";\n    this.currentImagenes = [];\n    this.scrollAnterior = false;\n    this.filtros = true;\n    this.categorias = [];\n  }\n  ngOnInit() {\n    this.searchCategoria();\n  }\n  retrieveArticulos() {\n    this.articulosService.getAll().subscribe(data => {\n      this.articulos = data;\n      console.log(data);\n    }, error => {\n      console.log(error);\n    });\n  }\n  refreshList() {\n    this.retrieveArticulos();\n    this.currentArticulos = undefined;\n    this.currentIndex = -1;\n  }\n  setActiveArticulos(articulos, index) {\n    this.currentArticulos = articulos;\n    this.currentIndex = index;\n  }\n  removeAllArticulos() {\n    this.articulosService.deleteAll().subscribe(response => {\n      console.log(response);\n      this.refreshList();\n    }, error => {\n      console.log(error);\n    });\n  }\n  searchCategoria() {\n    var categoria = this.route.snapshot.params['categoria'];\n    var objeto = Object.create({});\n    objeto.categoria = categoria;\n    this.articulosService.findByFiltro(objeto).subscribe(data => {\n      this.articulos = data;\n      if (data) {\n        data.forEach(articulo => {\n          console.log(articulo.sub_categoria);\n          if (this.categorias.indexOf(articulo.sub_categoria) == -1) {\n            this.categorias.push(articulo.sub_categoria);\n            document.getElementById(\"filtros\").style.gridTemplateColumns += \"10%\";\n          }\n        });\n      }\n      console.log(data);\n    }, error => {\n      console.log(error);\n    });\n  }\n  searchSubcategory(id) {\n    var categoria = this.route.snapshot.params['categoria'];\n    if (id != 0) {\n      var objeto = Object.create({});\n      objeto.categoria = categoria;\n      objeto.sub_categoria = this.categorias[id - 1];\n    } else {\n      var objeto = Object.create({});\n      objeto.categoria = categoria;\n    }\n    this.articulosService.findByFiltro(objeto).subscribe(data => {\n      this.articulos = data;\n      console.log(data);\n    }, error => {\n      console.log(error);\n    });\n    var id_segundo = 0;\n    Array.from(document.getElementsByClassName(\"filtros-a\")).forEach(elemento => {\n      console.log(elemento.id);\n      if (id_segundo == id) {\n        document.getElementById(\"border-filtro\" + String(id_segundo)).style.display = \"block\";\n        elemento.style.fontWeight = \"bold\";\n      } else {\n        document.getElementById(\"border-filtro\" + String(id_segundo)).style.display = \"none\";\n        elemento.style.fontWeight = \"normal\";\n      }\n      id_segundo += 1;\n    });\n  }\n};\nArticulosCategoriaComponent = __decorate([Component({\n  selector: 'app-articulos-categoria',\n  templateUrl: './articulos-categoria.component.html',\n  styleUrls: ['./articulos-categoria.component.css']\n})], ArticulosCategoriaComponent);\nexport { ArticulosCategoriaComponent };","map":{"version":3,"mappings":"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","names":["Component","ArticulosCategoriaComponent","constructor","articulosService","route","router","ngOnInit","searchCategoria","retrieveArticulos","getAll","subscribe","data","articulos","console","log","error","refreshList","currentArticulos","undefined","currentIndex","setActiveArticulos","index","removeAllArticulos","deleteAll","response","categoria","snapshot","params","objeto","Object","create","findByFiltro","forEach","articulo","sub_categoria","categorias","indexOf","push","document","getElementById","style","gridTemplateColumns","searchSubcategory","id","id_segundo","Array","from","getElementsByClassName","elemento","String","display","fontWeight","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\javie\\Desktop\\AST\\PROYECTO\\tienda\\src\\app\\components\\articulos-categoria\\articulos-categoria.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { articulos } from 'src/app/models/articulos.model';\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\nimport { ArticulosService } from 'src/app/services/articulos.service';\r\n\r\n@Component({\r\n  selector: 'app-articulos-categoria',\r\n  templateUrl: './articulos-categoria.component.html',\r\n  styleUrls: ['./articulos-categoria.component.css']\r\n})\r\nexport class ArticulosCategoriaComponent implements OnInit {\r\n  articulos?: articulos[];\r\n  currentArticulos?: articulos;\r\n  currentIndex = -1;\r\n  nombre = '';\r\n  currentImage = \"\";\r\n  currentImagenes : String[] = [];\r\n  scrollAnterior = false;\r\n  filtros = true;\r\n  categorias : String[] = [];\r\n\r\n  constructor(\r\n    private articulosService: ArticulosService,\r\n    private route: ActivatedRoute,\r\n    private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n      this.searchCategoria();\r\n  }\r\n\r\n  retrieveArticulos(): void {\r\n    this.articulosService.getAll()\r\n      .subscribe(\r\n        data => {\r\n          this.articulos = data;\r\n          console.log(data);\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        });\r\n  }\r\n\r\n  refreshList(): void {\r\n    this.retrieveArticulos();\r\n    this.currentArticulos = undefined;\r\n    this.currentIndex = -1;\r\n  }\r\n\r\n  setActiveArticulos(articulos: articulos, index: number): void {\r\n    this.currentArticulos = articulos;\r\n    this.currentIndex = index;\r\n  }\r\n\r\n  removeAllArticulos(): void {\r\n    this.articulosService.deleteAll()\r\n      .subscribe(\r\n        response => {\r\n          console.log(response);\r\n          this.refreshList();\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        });\r\n  }\r\n  searchCategoria(): void {\r\n    var categoria = this.route.snapshot.params['categoria'];\r\n    var objeto = Object.create({});\r\n    objeto.categoria = categoria;\r\n    this.articulosService.findByFiltro(objeto)\r\n      .subscribe(\r\n        data => {\r\n            this.articulos = data;\r\n            if (data) {\r\n              data.forEach(articulo => {\r\n                console.log(articulo.sub_categoria);\r\n                if (this.categorias.indexOf(articulo.sub_categoria!) == -1) {\r\n                  this.categorias.push(articulo.sub_categoria!);\r\n                  (<HTMLDivElement>document.getElementById(\"filtros\")).style.gridTemplateColumns += \"10%\"; \r\n                }\r\n              });\r\n            }\r\n          console.log(data);\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        });\r\n  }\r\n  searchSubcategory(id: any) {\r\n    var categoria = this.route.snapshot.params['categoria'];\r\n    if (id != 0) {\r\n      var objeto = Object.create({});\r\n      objeto.categoria = categoria;\r\n      objeto.sub_categoria = this.categorias[id-1];\r\n    } else {\r\n      var objeto = Object.create({});\r\n      objeto.categoria = categoria;\r\n    }\r\n    this.articulosService.findByFiltro(objeto)\r\n      .subscribe(\r\n        data => {\r\n            this.articulos = data;\r\n          console.log(data);\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        });\r\n    var id_segundo = 0;\r\n    Array.from(document.getElementsByClassName(\"filtros-a\")).forEach(elemento => {\r\n      console.log((<HTMLAnchorElement>elemento).id);\r\n      if (id_segundo == id) {\r\n        (<HTMLDivElement>document.getElementById(\"border-filtro\"+String(id_segundo))).style.display = \"block\";\r\n        (<HTMLAnchorElement>elemento).style.fontWeight = \"bold\";\r\n      } else {\r\n        (<HTMLDivElement>document.getElementById(\"border-filtro\"+String(id_segundo))).style.display = \"none\";\r\n        (<HTMLAnchorElement>elemento).style.fontWeight = \"normal\";\r\n      }\r\n      id_segundo += 1\r\n    });\r\n    \r\n  }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}